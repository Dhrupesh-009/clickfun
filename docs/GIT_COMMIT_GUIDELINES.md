# 📝 Git 提交規範指南

## 🎯 提交訊息格式

### 基本結構

```
<類型>(<範圍>): <簡短描述>

<詳細描述>

<頁腳>
```

### 範例

```
feat(遊戲): 新增雙人對戰模式

- 實作分屏遊戲介面
- 新增玩家分數比較功能
- 支援同時多點觸控操作

Closes #123
```

## 📋 提交類型 (Type)

### 🚀 功能開發

- **feat**: 新增功能
- **enhance**: 功能增強
- **perf**: 效能優化

### 🐛 問題修復

- **fix**: 錯誤修復
- **hotfix**: 緊急修復
- **security**: 安全性修復

### 📚 文檔與維護

- **docs**: 文檔更新
- **style**: 程式碼格式調整（不影響功能）
- **refactor**: 程式碼重構

### 🧪 測試與工具

- **test**: 測試相關
- **build**: 建置系統
- **ci**: CI/CD 配置
- **chore**: 雜項任務

### 🔄 版本控制

- **revert**: 回退提交
- **merge**: 合併分支

## 🎯 範圍 (Scope)

### 遊戲功能

- **遊戲**: 核心遊戲邏輯
- **UI**: 使用者介面
- **動畫**: 視覺效果
- **音效**: 聲音系統

### 技術架構

- **PWA**: Progressive Web App 功能
- **效能**: 效能相關優化
- **快取**: 快取機制
- **API**: 介面設計

### 開發工具

- **測試**: 測試相關
- **建置**: 建置流程
- **部署**: 部署配置
- **文檔**: 文檔維護

## ✅ 良好範例

### 功能開發

```
feat(遊戲): 新增 TPS 即時顯示功能

- 實作滑動窗口 TPS 計算演算法
- 新增 TPS 顯示 UI 元件
- 支援 30+ TPS 時的 RGB 動畫效果
- 優化計算效能，避免記憶體洩漏

Closes #45
```

### 錯誤修復

```
fix(動畫): 修復閃電效果在 Safari 上的渲染問題

修正 OffscreenCanvas 在 Safari 瀏覽器上的相容性問題，
確保閃電動畫在所有支援的瀏覽器上正常顯示。

Fixes #67
```

### 效能優化

```
perf(渲染): 優化動畫幀率至穩定 60 FPS

- 使用 requestAnimationFrame 替代 setInterval
- 實作動畫物件池減少 GC 壓力
- 優化 Canvas 繪製邏輯

測試結果：平均幀率從 45 FPS 提升至 60 FPS
```

### 文檔更新

```
docs(README): 更新安裝與使用說明

- 新增 PWA 安裝步驟
- 補充瀏覽器相容性資訊
- 更新遊戲操作說明
```

## ❌ 避免的範例

### 過於簡短

```
❌ fix: bug
❌ update: stuff
❌ 修復
```

### 過於冗長

```
❌ feat(遊戲): 新增了一個非常棒的雙人對戰模式功能，包含了分屏顯示、即時分數比較、多點觸控支援等等功能
```

### 不清楚的描述

```
❌ fix: 修復一些問題
❌ update: 改善使用者體驗
❌ chore: 雜項更新
```

## 🔧 Git 配置建議

### 設定使用者資訊

```bash
git config --global user.name "你的姓名"
git config --global user.email "your.email@example.com"
```

### 設定預設分支名稱

```bash
git config --global init.defaultBranch main
```

### 設定提交範本

```bash
git config --global commit.template ~/.gitmessage
```

### 建立提交範本檔案

```bash
# ~/.gitmessage
<類型>(<範圍>): <簡短描述>

# 詳細說明提交的內容和原因
#
# 相關議題：
# Closes #123
# Fixes #456
# Refs #789
```

## 📊 分支管理策略

### 主要分支

- **main**: 主要穩定分支
- **develop**: 開發整合分支

### 功能分支

- **feature/功能名稱**: 新功能開發
- **fix/問題描述**: 錯誤修復
- **hotfix/緊急修復**: 生產環境緊急修復

### 分支命名範例

```
feature/dual-player-mode
feature/tps-display
fix/safari-animation-bug
hotfix/pwa-cache-issue
```

## 🏷️ 標籤管理

### 版本標籤格式

```
v主版本.次版本.修訂版本
```

### 範例

```bash
git tag -a v1.0.0 -m "正式版本 1.0.0 發布"
git tag -a v1.1.0 -m "新增雙人對戰模式"
git tag -a v1.1.1 -m "修復動畫效能問題"
```

## 📝 提交前檢查清單

### ✅ 程式碼品質

- [ ] 程式碼已通過測試
- [ ] 沒有語法錯誤
- [ ] 符合專案程式碼風格
- [ ] 移除了除錯用的 console.log

### ✅ 提交訊息

- [ ] 使用正確的提交類型
- [ ] 簡短描述清楚明確
- [ ] 包含必要的詳細說明
- [ ] 引用相關的議題編號

### ✅ 檔案管理

- [ ] 只提交相關的變更檔案
- [ ] 沒有提交暫存或建置檔案
- [ ] .gitignore 設定正確

## 🎯 最佳實踐建議

### 提交頻率

- **經常提交**: 完成一個小功能就提交
- **邏輯完整**: 每次提交都是一個完整的邏輯單元
- **可回退**: 每次提交都應該是可以安全回退的

### 協作規範

- **Pull Request**: 使用 PR 進行程式碼審查
- **分支保護**: 保護主要分支避免直接推送
- **自動化**: 設定 CI/CD 自動測試和部署

### 歷史維護

- **定期清理**: 刪除已合併的功能分支
- **標籤管理**: 為重要版本建立標籤
- **文檔同步**: 確保 CHANGELOG 與提交歷史同步

---

遵循這些規範將有助於：

- 📈 提升程式碼品質
- 🤝 改善團隊協作
- 🔍 簡化問題追蹤
- 📚 維護清晰的專案歷史

記住：好的提交訊息是給未來的自己和團隊成員最好的禮物！ 🎁
