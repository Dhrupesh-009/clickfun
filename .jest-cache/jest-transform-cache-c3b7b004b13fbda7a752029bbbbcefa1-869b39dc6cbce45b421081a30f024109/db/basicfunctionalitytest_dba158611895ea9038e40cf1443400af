c39dabe53ac2fe8634b92e9db3f21b94
"use strict";

require("core-js/modules/es.array.includes.js");
require("core-js/modules/es.number.is-integer.js");
/**
 * ClickFun 基本功能測試
 * 測試遊戲的核心功能是否正常運作
 */

describe('ClickFun 基本功能測試', function () {
  var gameState;
  beforeEach(function () {
    // 模擬遊戲狀態
    gameState = {
      score: 0,
      tps: 0,
      isActive: false,
      mode: 'single',
      timeLeft: 30
    };
  });
  describe('遊戲初始化', function () {
    test('應該正確初始化遊戲狀態', function () {
      expect(gameState.score).toBe(0);
      expect(gameState.tps).toBe(0);
      expect(gameState.isActive).toBe(false);
      expect(gameState.mode).toBe('single');
    });
    test('應該設定正確的遊戲時間', function () {
      expect(gameState.timeLeft).toBeGreaterThan(0);
      expect(gameState.timeLeft).toBeLessThanOrEqual(60);
    });
  });
  describe('分數計算', function () {
    test('應該正確累加分數', function () {
      var initialScore = gameState.score;
      var clickCount = 5;

      // 模擬點擊
      for (var i = 0; i < clickCount; i++) {
        gameState.score++;
      }
      expect(gameState.score).toBe(initialScore + clickCount);
    });
    test('分數不應該為負數', function () {
      gameState.score = 0;
      // 嘗試減少分數（不應該發生）
      gameState.score = Math.max(0, gameState.score - 1);
      expect(gameState.score).toBeGreaterThanOrEqual(0);
    });
  });
  describe('TPS 計算', function () {
    test('TPS 應該在合理範圍內', function () {
      // 模擬 TPS 計算
      var mockTPS = 15.5;
      gameState.tps = mockTPS;
      expect(gameState.tps).toBeGreaterThanOrEqual(0);
      expect(gameState.tps).toBeLessThan(100); // 合理的上限
    });
    test('TPS 應該支援小數點精度', function () {
      var preciseTPS = 12.7;
      gameState.tps = preciseTPS;
      expect(gameState.tps).toBe(preciseTPS);
      expect(Number.isInteger(gameState.tps)).toBe(false);
    });
  });
  describe('遊戲模式', function () {
    test('應該支援單人模式', function () {
      gameState.mode = 'single';
      expect(gameState.mode).toBe('single');
    });
    test('應該支援雙人模式', function () {
      gameState.mode = 'dual';
      expect(gameState.mode).toBe('dual');
    });
    test('不應該接受無效的遊戲模式', function () {
      var validModes = ['single', 'dual'];
      var testMode = 'invalid';
      if (!validModes.includes(testMode)) {
        gameState.mode = 'single'; // 預設值
      }
      expect(validModes).toContain(gameState.mode);
    });
  });
  describe('遊戲狀態管理', function () {
    test('遊戲開始時應該設定為活躍狀態', function () {
      gameState.isActive = true;
      expect(gameState.isActive).toBe(true);
    });
    test('遊戲結束時應該設定為非活躍狀態', function () {
      gameState.isActive = false;
      expect(gameState.isActive).toBe(false);
    });
    test('時間歸零時遊戲應該結束', function () {
      gameState.timeLeft = 0;
      gameState.isActive = gameState.timeLeft > 0;
      expect(gameState.isActive).toBe(false);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsImdhbWVTdGF0ZSIsImJlZm9yZUVhY2giLCJzY29yZSIsInRwcyIsImlzQWN0aXZlIiwibW9kZSIsInRpbWVMZWZ0IiwidGVzdCIsImV4cGVjdCIsInRvQmUiLCJ0b0JlR3JlYXRlclRoYW4iLCJ0b0JlTGVzc1RoYW5PckVxdWFsIiwiaW5pdGlhbFNjb3JlIiwiY2xpY2tDb3VudCIsImkiLCJNYXRoIiwibWF4IiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsIm1vY2tUUFMiLCJ0b0JlTGVzc1RoYW4iLCJwcmVjaXNlVFBTIiwiTnVtYmVyIiwiaXNJbnRlZ2VyIiwidmFsaWRNb2RlcyIsInRlc3RNb2RlIiwiaW5jbHVkZXMiLCJ0b0NvbnRhaW4iXSwic291cmNlcyI6WyJiYXNpYy1mdW5jdGlvbmFsaXR5LnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDbGlja0Z1biDln7rmnKzlip/og73muKzoqaZcbiAqIOa4rOippumBiuaIsueahOaguOW/g+WKn+iDveaYr+WQpuato+W4uOmBi+S9nFxuICovXG5cbmRlc2NyaWJlKCdDbGlja0Z1biDln7rmnKzlip/og73muKzoqaYnLCAoKSA9PiB7XG4gIGxldCBnYW1lU3RhdGU7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8g5qih5pOs6YGK5oiy54uA5oWLXG4gICAgZ2FtZVN0YXRlID0ge1xuICAgICAgc2NvcmU6IDAsXG4gICAgICB0cHM6IDAsXG4gICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICBtb2RlOiAnc2luZ2xlJyxcbiAgICAgIHRpbWVMZWZ0OiAzMCxcbiAgICB9O1xuICB9KTtcblxuICBkZXNjcmliZSgn6YGK5oiy5Yid5aeL5YyWJywgKCkgPT4ge1xuICAgIHRlc3QoJ+aHieipsuato+eiuuWIneWni+WMlumBiuaIsueLgOaFiycsICgpID0+IHtcbiAgICAgIGV4cGVjdChnYW1lU3RhdGUuc2NvcmUpLnRvQmUoMCk7XG4gICAgICBleHBlY3QoZ2FtZVN0YXRlLnRwcykudG9CZSgwKTtcbiAgICAgIGV4cGVjdChnYW1lU3RhdGUuaXNBY3RpdmUpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGdhbWVTdGF0ZS5tb2RlKS50b0JlKCdzaW5nbGUnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ+aHieipsuioreWumuato+eiuueahOmBiuaIsuaZgumWkycsICgpID0+IHtcbiAgICAgIGV4cGVjdChnYW1lU3RhdGUudGltZUxlZnQpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIGV4cGVjdChnYW1lU3RhdGUudGltZUxlZnQpLnRvQmVMZXNzVGhhbk9yRXF1YWwoNjApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn5YiG5pW46KiI566XJywgKCkgPT4ge1xuICAgIHRlc3QoJ+aHieipsuato+eiuue0r+WKoOWIhuaVuCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGluaXRpYWxTY29yZSA9IGdhbWVTdGF0ZS5zY29yZTtcbiAgICAgIGNvbnN0IGNsaWNrQ291bnQgPSA1O1xuXG4gICAgICAvLyDmqKHmk6zpu57mk4pcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xpY2tDb3VudDsgaSsrKSB7XG4gICAgICAgIGdhbWVTdGF0ZS5zY29yZSsrO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QoZ2FtZVN0YXRlLnNjb3JlKS50b0JlKGluaXRpYWxTY29yZSArIGNsaWNrQ291bnQpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgn5YiG5pW45LiN5oeJ6Kmy54K66LKg5pW4JywgKCkgPT4ge1xuICAgICAgZ2FtZVN0YXRlLnNjb3JlID0gMDtcbiAgICAgIC8vIOWYl+ippua4m+WwkeWIhuaVuO+8iOS4jeaHieipsueZvOeUn++8iVxuICAgICAgZ2FtZVN0YXRlLnNjb3JlID0gTWF0aC5tYXgoMCwgZ2FtZVN0YXRlLnNjb3JlIC0gMSk7XG5cbiAgICAgIGV4cGVjdChnYW1lU3RhdGUuc2NvcmUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdUUFMg6KiI566XJywgKCkgPT4ge1xuICAgIHRlc3QoJ1RQUyDmh4noqbLlnKjlkIjnkIbnr4TlnI3lhacnLCAoKSA9PiB7XG4gICAgICAvLyDmqKHmk6wgVFBTIOioiOeul1xuICAgICAgY29uc3QgbW9ja1RQUyA9IDE1LjU7XG4gICAgICBnYW1lU3RhdGUudHBzID0gbW9ja1RQUztcblxuICAgICAgZXhwZWN0KGdhbWVTdGF0ZS50cHMpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QoZ2FtZVN0YXRlLnRwcykudG9CZUxlc3NUaGFuKDEwMCk7IC8vIOWQiOeQhueahOS4iumZkFxuICAgIH0pO1xuXG4gICAgdGVzdCgnVFBTIOaHieipsuaUr+aPtOWwj+aVuOm7nueyvuW6picsICgpID0+IHtcbiAgICAgIGNvbnN0IHByZWNpc2VUUFMgPSAxMi43O1xuICAgICAgZ2FtZVN0YXRlLnRwcyA9IHByZWNpc2VUUFM7XG5cbiAgICAgIGV4cGVjdChnYW1lU3RhdGUudHBzKS50b0JlKHByZWNpc2VUUFMpO1xuICAgICAgZXhwZWN0KE51bWJlci5pc0ludGVnZXIoZ2FtZVN0YXRlLnRwcykpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgn6YGK5oiy5qih5byPJywgKCkgPT4ge1xuICAgIHRlc3QoJ+aHieipsuaUr+aPtOWWruS6uuaooeW8jycsICgpID0+IHtcbiAgICAgIGdhbWVTdGF0ZS5tb2RlID0gJ3NpbmdsZSc7XG4gICAgICBleHBlY3QoZ2FtZVN0YXRlLm1vZGUpLnRvQmUoJ3NpbmdsZScpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgn5oeJ6Kmy5pSv5o+06ZuZ5Lq65qih5byPJywgKCkgPT4ge1xuICAgICAgZ2FtZVN0YXRlLm1vZGUgPSAnZHVhbCc7XG4gICAgICBleHBlY3QoZ2FtZVN0YXRlLm1vZGUpLnRvQmUoJ2R1YWwnKTtcbiAgICB9KTtcblxuICAgIHRlc3QoJ+S4jeaHieipsuaOpeWPl+eEoeaViOeahOmBiuaIsuaooeW8jycsICgpID0+IHtcbiAgICAgIGNvbnN0IHZhbGlkTW9kZXMgPSBbJ3NpbmdsZScsICdkdWFsJ107XG4gICAgICBjb25zdCB0ZXN0TW9kZSA9ICdpbnZhbGlkJztcblxuICAgICAgaWYgKCF2YWxpZE1vZGVzLmluY2x1ZGVzKHRlc3RNb2RlKSkge1xuICAgICAgICBnYW1lU3RhdGUubW9kZSA9ICdzaW5nbGUnOyAvLyDpoJDoqK3lgLxcbiAgICAgIH1cblxuICAgICAgZXhwZWN0KHZhbGlkTW9kZXMpLnRvQ29udGFpbihnYW1lU3RhdGUubW9kZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfpgYrmiLLni4DmhYvnrqHnkIYnLCAoKSA9PiB7XG4gICAgdGVzdCgn6YGK5oiy6ZaL5aeL5pmC5oeJ6Kmy6Kit5a6a54K65rS76LqN54uA5oWLJywgKCkgPT4ge1xuICAgICAgZ2FtZVN0YXRlLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgIGV4cGVjdChnYW1lU3RhdGUuaXNBY3RpdmUpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICB0ZXN0KCfpgYrmiLLntZDmnZ/mmYLmh4noqbLoqK3lrprngrrpnZ7mtLvouo3ni4DmhYsnLCAoKSA9PiB7XG4gICAgICBnYW1lU3RhdGUuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIGV4cGVjdChnYW1lU3RhdGUuaXNBY3RpdmUpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgdGVzdCgn5pmC6ZaT5q246Zu25pmC6YGK5oiy5oeJ6Kmy57WQ5p2fJywgKCkgPT4ge1xuICAgICAgZ2FtZVN0YXRlLnRpbWVMZWZ0ID0gMDtcbiAgICAgIGdhbWVTdGF0ZS5pc0FjdGl2ZSA9IGdhbWVTdGF0ZS50aW1lTGVmdCA+IDA7XG5cbiAgICAgIGV4cGVjdChnYW1lU3RhdGUuaXNBY3RpdmUpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FB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